<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# authentication

```go
import "Lescatit/authentication"
```

## Index



# models

```go
import "Lescatit/authentication/models"
```

## Index

- [type User](<#type-user>)
  - [func (u *User) FromProtoBuffer(user *pb.User)](<#func-user-fromprotobuffer>)
  - [func (u *User) ToProtoBuffer() *pb.User](<#func-user-toprotobuffer>)


## type [User](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/models/users.go#L11-L19>)

User provides the user instance for authentication job\.

```go
type User struct {
    Id       bson.ObjectId `bson:"_id"`
    Name     string        `bson:"name"`
    Email    string        `bson:"email"`
    Password string        `bson:"password"`
    Role     string        `bson:"role"`
    Created  time.Time     `bson:"created"`
    Updated  time.Time     `bson:"updated"`
}
```

### func \(\*User\) [FromProtoBuffer](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/models/users.go#L35>)

```go
func (u *User) FromProtoBuffer(user *pb.User)
```

FromProtoBuffer gets user from protocol buffer and converts to the user structure\.

### func \(\*User\) [ToProtoBuffer](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/models/users.go#L22>)

```go
func (u *User) ToProtoBuffer() *pb.User
```

ToProtoBuffer converts the user structure into a protocol buffer user structure\.

# repository

```go
import "Lescatit/authentication/repository"
```

## Index

- [Constants](<#constants>)
- [type URepository](<#type-urepository>)
  - [func (r *URepository) DeleteAll() error](<#func-urepository-deleteall>)
  - [func (r *URepository) DeleteByEmail(email string) error](<#func-urepository-deletebyemail>)
  - [func (r *URepository) DeleteById(id string) error](<#func-urepository-deletebyid>)
  - [func (r *URepository) GetAll() (user []*models.User, err error)](<#func-urepository-getall>)
  - [func (r *URepository) GetByEmail(email string) (user *models.User, err error)](<#func-urepository-getbyemail>)
  - [func (r *URepository) GetById(id string) (user *models.User, err error)](<#func-urepository-getbyid>)
  - [func (r *URepository) Save(user *models.User) error](<#func-urepository-save>)
  - [func (r *URepository) Update(user *models.User) error](<#func-urepository-update>)
- [type UsersRepository](<#type-usersrepository>)
  - [func NewUsersRepository(conn db.Connection) UsersRepository](<#func-newusersrepository>)


## Constants

```go
const UsersCollection = "users"
```

## type [URepository](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/repository/users.go#L25-L27>)

URepository provides a mongo collection for database job\.

```go
type URepository struct {
    // contains filtered or unexported fields
}
```

### func \(\*URepository\) [DeleteAll](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/repository/users.go#L73>)

```go
func (r *URepository) DeleteAll() error
```

DeleteAll drops users collection\.

### func \(\*URepository\) [DeleteByEmail](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/repository/users.go#L63>)

```go
func (r *URepository) DeleteByEmail(email string) error
```

Delete deletes the user based on email\.

### func \(\*URepository\) [DeleteById](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/repository/users.go#L68>)

```go
func (r *URepository) DeleteById(id string) error
```

Delete deletes the user based on id\.

### func \(\*URepository\) [GetAll](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/repository/users.go#L52>)

```go
func (r *URepository) GetAll() (user []*models.User, err error)
```

GetAll returns all users\.

### func \(\*URepository\) [GetByEmail](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/repository/users.go#L46>)

```go
func (r *URepository) GetByEmail(email string) (user *models.User, err error)
```

GetByEmail returns the user based on email\.

### func \(\*URepository\) [GetById](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/repository/users.go#L40>)

```go
func (r *URepository) GetById(id string) (user *models.User, err error)
```

GetById returns the user based on id\.

### func \(\*URepository\) [Save](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/repository/users.go#L35>)

```go
func (r *URepository) Save(user *models.User) error
```

Save creates a user\.

### func \(\*URepository\) [Update](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/repository/users.go#L58>)

```go
func (r *URepository) Update(user *models.User) error
```

Update updates the user\.

## type [UsersRepository](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/repository/users.go#L14-L22>)

UsersRepository is the interface of the authentication backend\.

```go
type UsersRepository interface {
    Save(user *models.User) error
    GetById(id string) (user *models.User, err error)
    GetByEmail(email string) (user *models.User, err error)
    GetAll() (user []*models.User, err error)
    Update(user *models.User) error
    DeleteByEmail(email string) error
    DeleteById(id string) error
}
```

### func [NewUsersRepository](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/repository/users.go#L30>)

```go
func NewUsersRepository(conn db.Connection) UsersRepository
```

NewUsersRepository creates a new UsersRepository instance\.

# service

```go
import "Lescatit/authentication/service"
```

## Index

- [func NewAuthService(usersRepository repository.UsersRepository) pb.AuthServiceServer](<#func-newauthservice>)
- [type AuthService](<#type-authservice>)
  - [func (s *AuthService) ChangeUserRole(ctx context.Context, req *pb.ChangeUserRoleRequest) (*pb.User, error)](<#func-authservice-changeuserrole>)
  - [func (s *AuthService) DeleteUser(ctx context.Context, req *pb.DeleteUserRequest) (*pb.DeleteUserResponse, error)](<#func-authservice-deleteuser>)
  - [func (s *AuthService) GetUser(ctx context.Context, req *pb.GetUserRequest) (*pb.User, error)](<#func-authservice-getuser>)
  - [func (s *AuthService) GetUserRole(ctx context.Context, req *pb.GetUserRoleRequest) (*pb.GetUserRoleResponse, error)](<#func-authservice-getuserrole>)
  - [func (s *AuthService) ListUsers(req *pb.ListUsersRequest, stream pb.AuthService_ListUsersServer) error](<#func-authservice-listusers>)
  - [func (s *AuthService) SignIn(ctx context.Context, req *pb.SignInRequest) (*pb.SignInResponse, error)](<#func-authservice-signin>)
  - [func (s *AuthService) SignUp(ctx context.Context, req *pb.SignUpRequest) (*pb.User, error)](<#func-authservice-signup>)
  - [func (s *AuthService) UpdateUserEmail(ctx context.Context, req *pb.UpdateUserEmailRequest) (*pb.User, error)](<#func-authservice-updateuseremail>)
  - [func (s *AuthService) UpdateUserName(ctx context.Context, req *pb.UpdateUserNameRequest) (*pb.User, error)](<#func-authservice-updateusername>)
  - [func (s *AuthService) UpdateUserPassword(ctx context.Context, req *pb.UpdateUserPasswordRequest) (*pb.User, error)](<#func-authservice-updateuserpassword>)


## func [NewAuthService](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L23>)

```go
func NewAuthService(usersRepository repository.UsersRepository) pb.AuthServiceServer
```

NewAuthService creates a new AuthService instance\.

## type [AuthService](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L18-L20>)

AuthService provides usersRepository for authentication service\.

```go
type AuthService struct {
    // contains filtered or unexported fields
}
```

### func \(\*AuthService\) [ChangeUserRole](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L127>)

```go
func (s *AuthService) ChangeUserRole(ctx context.Context, req *pb.ChangeUserRoleRequest) (*pb.User, error)
```

ChangeUserRole performs change the user role\.

### func \(\*AuthService\) [DeleteUser](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L107>)

```go
func (s *AuthService) DeleteUser(ctx context.Context, req *pb.DeleteUserRequest) (*pb.DeleteUserResponse, error)
```

DeleteUser performs delete the user\.

### func \(\*AuthService\) [GetUser](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L92>)

```go
func (s *AuthService) GetUser(ctx context.Context, req *pb.GetUserRequest) (*pb.User, error)
```

GetUser performs return the user by id\.

### func \(\*AuthService\) [GetUserRole](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L157>)

```go
func (s *AuthService) GetUserRole(ctx context.Context, req *pb.GetUserRoleRequest) (*pb.GetUserRoleResponse, error)
```

GetUserRole performs return the user role by id\.

### func \(\*AuthService\) [ListUsers](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L283>)

```go
func (s *AuthService) ListUsers(req *pb.ListUsersRequest, stream pb.AuthService_ListUsersServer) error
```

ListUser list all users\.

### func \(\*AuthService\) [SignIn](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L67>)

```go
func (s *AuthService) SignIn(ctx context.Context, req *pb.SignInRequest) (*pb.SignInResponse, error)
```

SignIn performs the user login process\.

### func \(\*AuthService\) [SignUp](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L28>)

```go
func (s *AuthService) SignUp(ctx context.Context, req *pb.SignUpRequest) (*pb.User, error)
```

SignUp performs the user registration process\.

### func \(\*AuthService\) [UpdateUserEmail](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L214>)

```go
func (s *AuthService) UpdateUserEmail(ctx context.Context, req *pb.UpdateUserEmailRequest) (*pb.User, error)
```

UpdateUser performs update the password\.

### func \(\*AuthService\) [UpdateUserName](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L249>)

```go
func (s *AuthService) UpdateUserName(ctx context.Context, req *pb.UpdateUserNameRequest) (*pb.User, error)
```

UpdateUser performs update the username\.

### func \(\*AuthService\) [UpdateUserPassword](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/service/service.go#L171>)

```go
func (s *AuthService) UpdateUserPassword(ctx context.Context, req *pb.UpdateUserPasswordRequest) (*pb.User, error)
```

UpdateUser performs update the password\.

# util

```go
import "Lescatit/authentication/util"
```

## Index

- [Variables](<#variables>)
- [func NormalizeEmail(email string) string](<#func-normalizeemail>)
- [func ValidateSignUp(user *pb.SignUpRequest) error](<#func-validatesignup>)


## Variables

Contains error codes for authentication service\.

```go
var (
    ErrInvalidUserId         = errors.New("invalid user id")
    ErrEmptyName             = errors.New("name can't be empty")
    ErrEmptyEmail            = errors.New("email can't be empty")
    ErrEmptyNewEmail         = errors.New("new email can't be empty")
    ErrEmptyPassword         = errors.New("password can't be empty")
    ErrEmptyNewPassword      = errors.New("new password can't be empty")
    ErrEmptyUserRole         = errors.New("user role can't be empty")
    ErrExistEmail            = errors.New("email already exist")
    ErrNotFoundEmail         = errors.New("email did not found")
    ErrNotFoundUserId        = errors.New("user id could not be found")
    ErrFailedSignIn          = errors.New("signin failed")
    ErrMismatchedPassword    = errors.New("password did not match")
    ErrCreateUser            = errors.New("user could not be created")
    ErrDeleteUser            = errors.New("user could not be deleted")
    ErrUpdateUser            = errors.New("user could not be updated")
    ErrEncryptPassword       = errors.New("password could not be encrypted")
    ErrNotPerformedOperation = errors.New("operation could not be performed")
)
```

## func [NormalizeEmail](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/util/util.go#L43>)

```go
func NormalizeEmail(email string) string
```

NormalizeEmail normalizes the user email address\.

## func [ValidateSignUp](<https://github.com/mtnmunuklu/Lescatit/blob/main/authentication/util/util.go#L31>)

```go
func ValidateSignUp(user *pb.SignUpRequest) error
```

ValidateSingnUp validates the user information for user registration process\.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
