<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# api

```go
import "Lescatit/api"
```

## Index



# middlewares

```go
import "Lescatit/api/middlewares"
```

## Index

- [func Authenticate(next http.HandlerFunc) http.HandlerFunc](<#func-authenticate>)
- [func LogRequests(next http.HandlerFunc) http.HandlerFunc](<#func-logrequests>)


## func [Authenticate](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/middlewares/middlewares.go#L21>)

```go
func Authenticate(next http.HandlerFunc) http.HandlerFunc
```

Authenticate provides the authentication process\.

## func [LogRequests](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/middlewares/middlewares.go#L12>)

```go
func LogRequests(next http.HandlerFunc) http.HandlerFunc
```

LogRequests provides logging of incoming requests\.

# resthandlers

```go
import "Lescatit/api/resthandlers"
```

## Index

- [type AHandlers](<#type-ahandlers>)
  - [func (h *AHandlers) DeleteUser(w http.ResponseWriter, r *http.Request)](<#func-ahandlers-deleteuser>)
  - [func (h *AHandlers) GetUser(w http.ResponseWriter, r *http.Request)](<#func-ahandlers-getuser>)
  - [func (h *AHandlers) GetUsers(w http.ResponseWriter, r *http.Request)](<#func-ahandlers-getusers>)
  - [func (h *AHandlers) PutUser(w http.ResponseWriter, r *http.Request)](<#func-ahandlers-putuser>)
  - [func (h *AHandlers) SignIn(w http.ResponseWriter, r *http.Request)](<#func-ahandlers-signin>)
  - [func (h *AHandlers) SignUp(w http.ResponseWriter, r *http.Request)](<#func-ahandlers-signup>)
- [type AuthHandlers](<#type-authhandlers>)
  - [func NewAuthHandlers(authSvcClient pb.AuthServiceClient) AuthHandlers](<#func-newauthhandlers>)
- [type CHandlers](<#type-chandlers>)
  - [func (h *CHandlers) AddURL(w http.ResponseWriter, r *http.Request)](<#func-chandlers-addurl>)
  - [func (h *CHandlers) AddURLs(w http.ResponseWriter, r *http.Request)](<#func-chandlers-addurls>)
  - [func (h *CHandlers) DeleteURL(w http.ResponseWriter, r *http.Request)](<#func-chandlers-deleteurl>)
  - [func (h *CHandlers) DeleteURLs(w http.ResponseWriter, r *http.Request)](<#func-chandlers-deleteurls>)
  - [func (h *CHandlers) GetCategory(w http.ResponseWriter, r *http.Request)](<#func-chandlers-getcategory>)
  - [func (h *CHandlers) GetURLs(w http.ResponseWriter, r *http.Request)](<#func-chandlers-geturls>)
  - [func (h *CHandlers) ReportMiscategorization(w http.ResponseWriter, r *http.Request)](<#func-chandlers-reportmiscategorization>)
  - [func (h *CHandlers) UpdateCategory(w http.ResponseWriter, r *http.Request)](<#func-chandlers-updatecategory>)
- [type CatHandlers](<#type-cathandlers>)
  - [func NewCatHandlers(catSvcClient pb.CatServiceClient) CatHandlers](<#func-newcathandlers>)


## type [AHandlers](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/auth.go#L26-L28>)

AHandlers provides a connection with authentication service over proto buffer\.

```go
type AHandlers struct {
    // contains filtered or unexported fields
}
```

### func \(\*AHandlers\) [DeleteUser](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/auth.go#L160>)

```go
func (h *AHandlers) DeleteUser(w http.ResponseWriter, r *http.Request)
```

DeleteUser performs delete the user\.

### func \(\*AHandlers\) [GetUser](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/auth.go#L123>)

```go
func (h *AHandlers) GetUser(w http.ResponseWriter, r *http.Request)
```

GetUser performs return the user by id\.

### func \(\*AHandlers\) [GetUsers](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/auth.go#L138>)

```go
func (h *AHandlers) GetUsers(w http.ResponseWriter, r *http.Request)
```

GetUsers list all users\.

### func \(\*AHandlers\) [PutUser](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/auth.go#L91>)

```go
func (h *AHandlers) PutUser(w http.ResponseWriter, r *http.Request)
```

PutUser performs update the user\.

### func \(\*AHandlers\) [SignIn](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/auth.go#L65>)

```go
func (h *AHandlers) SignIn(w http.ResponseWriter, r *http.Request)
```

SignIn performs the user login process\.

### func \(\*AHandlers\) [SignUp](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/auth.go#L36>)

```go
func (h *AHandlers) SignUp(w http.ResponseWriter, r *http.Request)
```

SignUp performs the user registration process\.

## type [AuthHandlers](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/auth.go#L16-L23>)

AuthHandlers is the interface of the authentication operation\.

```go
type AuthHandlers interface {
    SignUp(w http.ResponseWriter, r *http.Request)
    SignIn(w http.ResponseWriter, r *http.Request)
    PutUser(w http.ResponseWriter, r *http.Request)
    GetUser(w http.ResponseWriter, r *http.Request)
    GetUsers(w http.ResponseWriter, r *http.Request)
    DeleteUser(w http.ResponseWriter, r *http.Request)
}
```

### func [NewAuthHandlers](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/auth.go#L31>)

```go
func NewAuthHandlers(authSvcClient pb.AuthServiceClient) AuthHandlers
```

NewAuthHandlers creates a new AuthHandlers instance\.

## type [CHandlers](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/cat.go#L26-L28>)

CHandlers provides a connection with categorization service over proto buffer\.

```go
type CHandlers struct {
    // contains filtered or unexported fields
}
```

### func \(\*CHandlers\) [AddURL](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/cat.go#L143>)

```go
func (h *CHandlers) AddURL(w http.ResponseWriter, r *http.Request)
```

AddURL performs add the url\.

### func \(\*CHandlers\) [AddURLs](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/cat.go#L105>)

```go
func (h *CHandlers) AddURLs(w http.ResponseWriter, r *http.Request)
```

AddURLs performs add the urls\.

### func \(\*CHandlers\) [DeleteURL](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/cat.go#L199>)

```go
func (h *CHandlers) DeleteURL(w http.ResponseWriter, r *http.Request)
```

DeleteURL performs delete the url\.

### func \(\*CHandlers\) [DeleteURLs](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/cat.go#L169>)

```go
func (h *CHandlers) DeleteURLs(w http.ResponseWriter, r *http.Request)
```

DeleteURLs performs delete the urls\.

### func \(\*CHandlers\) [GetCategory](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/cat.go#L36>)

```go
func (h *CHandlers) GetCategory(w http.ResponseWriter, r *http.Request)
```

GetCategory performs return the category by url\.

### func \(\*CHandlers\) [GetURLs](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/cat.go#L217>)

```go
func (h *CHandlers) GetURLs(w http.ResponseWriter, r *http.Request)
```

GetURLs performs list the urls based on categories and count\.

### func \(\*CHandlers\) [ReportMiscategorization](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/cat.go#L79>)

```go
func (h *CHandlers) ReportMiscategorization(w http.ResponseWriter, r *http.Request)
```

ReportMiscategorization reports miscategorization\.

### func \(\*CHandlers\) [UpdateCategory](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/cat.go#L53>)

```go
func (h *CHandlers) UpdateCategory(w http.ResponseWriter, r *http.Request)
```

UpdateCategory performs update the category\.

## type [CatHandlers](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/cat.go#L14-L23>)

CatHandlers is the interface of the categorization operation\.

```go
type CatHandlers interface {
    GetCategory(w http.ResponseWriter, r *http.Request)
    UpdateCategory(w http.ResponseWriter, r *http.Request)
    ReportMiscategorization(w http.ResponseWriter, r *http.Request)
    AddURLs(w http.ResponseWriter, r *http.Request)
    AddURL(w http.ResponseWriter, r *http.Request)
    DeleteURLs(w http.ResponseWriter, r *http.Request)
    DeleteURL(w http.ResponseWriter, r *http.Request)
    GetURLs(w http.ResponseWriter, r *http.Request)
}
```

### func [NewCatHandlers](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/resthandlers/cat.go#L31>)

```go
func NewCatHandlers(catSvcClient pb.CatServiceClient) CatHandlers
```

NewCatHandlers creates a new CatHandlers instance\.

# restutil

```go
import "Lescatit/api/restutil"
```

## Index

- [Variables](<#variables>)
- [func AuthRequestWithId(r *http.Request) (*security.TokenPayload, error)](<#func-authrequestwithid>)
- [func WriteAsJson(w http.ResponseWriter, statusCode int, data interface{})](<#func-writeasjson>)
- [func WriteError(w http.ResponseWriter, statusCode int, err error)](<#func-writeerror>)
- [type JError](<#type-jerror>)


## Variables

Contains error codes for api\.

```go
var (
    ErrEmptyBody    = errors.New("body can't be empty")
    ErrEmptyHeader  = errors.New("header can't be empty")
    ErrUnauthorized = errors.New("unauthorized")
)
```

## func [AuthRequestWithId](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/restutil/restutil.go#L41>)

```go
func AuthRequestWithId(r *http.Request) (*security.TokenPayload, error)
```

AuthRequestWithId checks for unauthorized access by comparing the id in the token with the id used in the requested transaction\.

## func [WriteAsJson](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/restutil/restutil.go#L25>)

```go
func WriteAsJson(w http.ResponseWriter, statusCode int, data interface{})
```

WriteAsJson provides return the response in json format\.

## func [WriteError](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/restutil/restutil.go#L32>)

```go
func WriteError(w http.ResponseWriter, statusCode int, err error)
```

WriteError provides return the related error in json format\.

## type [JError](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/restutil/restutil.go#L20-L22>)

Error

```go
type JError struct {
    Error string `json:"error"`
}
```

# routes

```go
import "Lescatit/api/routes"
```

## Index

- [func Install(router *mux.Router, routeList []*Route)](<#func-install>)
- [func WithCORS(router *mux.Router) http.Handler](<#func-withcors>)
- [type Route](<#type-route>)
  - [func NewAuthRoutes(authHandlers resthandlers.AuthHandlers) []*Route](<#func-newauthroutes>)
  - [func NewCatRoutes(catHandlers resthandlers.CatHandlers) []*Route](<#func-newcatroutes>)


## func [Install](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/routes/routes.go#L20>)

```go
func Install(router *mux.Router, routeList []*Route)
```

Install registers a new route with a matcher for the URL path\.

## func [WithCORS](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/routes/routes.go#L37>)

```go
func WithCORS(router *mux.Router) http.Handler
```

WithCORS provides Cross\-Origin Resource Sharing middleware\.

## type [Route](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/routes/routes.go#L12-L17>)

Route provides the route instance for routing operation\.

```go
type Route struct {
    Method       string
    Path         string
    Handler      http.HandlerFunc
    AuthRequired bool
}
```

### func [NewAuthRoutes](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/routes/auth.go#L9>)

```go
func NewAuthRoutes(authHandlers resthandlers.AuthHandlers) []*Route
```

NewAuthRoutes provides the routing process for authentication\.

### func [NewCatRoutes](<https://github.com/mtnmunuklu/Lescatit/blob/main/api/routes/cat.go#L9>)

```go
func NewCatRoutes(catHandlers resthandlers.CatHandlers) []*Route
```

NewCatRoutes provides the routing process for categorization\.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
