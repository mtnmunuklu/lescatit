<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# categorization

```go
import "CWS/categorization"
```

## Index



# models

```go
import "CWS/categorization/models"
```

## Index

- [type Category](<#type-category>)
  - [func (c *Category) FromProtoBuffer(category *pb.Category)](<#func-category-fromprotobuffer>)
  - [func (c *Category) ToProtoBuffer() *pb.Category](<#func-category-toprotobuffer>)


## type [Category](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/models/categories.go#L11-L18>)

Category provides the category instance for categorization job\.

```go
type Category struct {
    Id       bson.ObjectId `bson:"_id"`
    Url      string        `bson:"url"`
    Category string        `bson:"category"`
    Created  time.Time     `bson:"created"`
    Updated  time.Time     `bson:"updated"`
    Revision int64         `bson:"revision"`
}
```

### func \(\*Category\) [FromProtoBuffer](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/models/categories.go#L33>)

```go
func (c *Category) FromProtoBuffer(category *pb.Category)
```

FromProtoBuffer gets category from protocol buffer and converts to the category structure\.

### func \(\*Category\) [ToProtoBuffer](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/models/categories.go#L21>)

```go
func (c *Category) ToProtoBuffer() *pb.Category
```

ToProtoBuffer converts the category structure into a protocol buffer category structure\.

# repository

```go
import "CWS/categorization/repository"
```

## Index

- [Constants](<#constants>)
- [type CRepository](<#type-crepository>)
  - [func (r *CRepository) Delete(id string) error](<#func-crepository-delete>)
  - [func (r *CRepository) DeleteAll() error](<#func-crepository-deleteall>)
  - [func (r *CRepository) GetAllUrlsByCategory(category string, count int) (url []*models.Category, err error)](<#func-crepository-getallurlsbycategory>)
  - [func (r *CRepository) GetById(id string) (url *models.Category, err error)](<#func-crepository-getbyid>)
  - [func (r *CRepository) GetCategoryByUrl(url string) (category *models.Category, err error)](<#func-crepository-getcategorybyurl>)
  - [func (r *CRepository) Save(url *models.Category) error](<#func-crepository-save>)
  - [func (r *CRepository) Update(category *models.Category) error](<#func-crepository-update>)
- [type CategoriesRepository](<#type-categoriesrepository>)
  - [func NewCategoriesRepository(conn db.Connection) CategoriesRepository](<#func-newcategoriesrepository>)


## Constants

```go
const CategoriesCollection = "categories"
```

## type [CRepository](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L24-L26>)

CRepository provides a mongo collection for database job\.

```go
type CRepository struct {
    // contains filtered or unexported fields
}
```

### func \(\*CRepository\) [Delete](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L62>)

```go
func (r *CRepository) Delete(id string) error
```

Delete deletes the url based on id\.

### func \(\*CRepository\) [DeleteAll](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L67>)

```go
func (r *CRepository) DeleteAll() error
```

DeleteAll drops categories collection\.

### func \(\*CRepository\) [GetAllUrlsByCategory](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L51>)

```go
func (r *CRepository) GetAllUrlsByCategory(category string, count int) (url []*models.Category, err error)
```

GetAllUrlsByCategory returns all urls based on category\.

### func \(\*CRepository\) [GetById](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L39>)

```go
func (r *CRepository) GetById(id string) (url *models.Category, err error)
```

GetById returns the url based on id\.

### func \(\*CRepository\) [GetCategoryByUrl](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L45>)

```go
func (r *CRepository) GetCategoryByUrl(url string) (category *models.Category, err error)
```

GetCategoryByUrl returns the category based on url\.

### func \(\*CRepository\) [Save](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L34>)

```go
func (r *CRepository) Save(url *models.Category) error
```

Save adds url to database\.

### func \(\*CRepository\) [Update](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L57>)

```go
func (r *CRepository) Update(category *models.Category) error
```

Update updates the category\.

## type [CategoriesRepository](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L14-L21>)

CategoriesRepository is the interface of the categorization backend\.

```go
type CategoriesRepository interface {
    Save(url *models.Category) error
    GetById(id string) (url *models.Category, err error)
    GetCategoryByUrl(url string) (category *models.Category, err error)
    GetAllUrlsByCategory(category string, count int) (url []*models.Category, err error)
    Update(category *models.Category) error
    Delete(id string) error
}
```

### func [NewCategoriesRepository](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L29>)

```go
func NewCategoriesRepository(conn db.Connection) CategoriesRepository
```

NewCategoriesRepository creates a new CategoriesRepository instance\.

# service

```go
import "CWS/categorization/service"
```

## Index

- [func NewCatSevice(categoriesRepository repository.CategoriesRepository) pb.CatServiceServer](<#func-newcatsevice>)
- [type CatService](<#type-catservice>)
  - [func (s *CatService) AddUrl(ctx context.Context, req *pb.AddUrlRequest) (*pb.Category, error)](<#func-catservice-addurl>)
  - [func (s *CatService) AddUrls(req *pb.AddUrlsRequest, stream pb.CatService_AddUrlsServer) error](<#func-catservice-addurls>)
  - [func (s *CatService) DeleteUrl(ctx context.Context, req *pb.DeleteUrlRequest) (*pb.DeleteUrlResponse, error)](<#func-catservice-deleteurl>)
  - [func (s *CatService) DeleteUrls(req *pb.DeleteUrlsRequest, stream pb.CatService_DeleteUrlsServer) error](<#func-catservice-deleteurls>)
  - [func (s *CatService) GetCategory(ctx context.Context, req *pb.GetCategoryRequest) (*pb.Category, error)](<#func-catservice-getcategory>)
  - [func (s *CatService) ListUrls(req *pb.ListUrlsRequest, stream pb.CatService_ListUrlsServer) error](<#func-catservice-listurls>)
  - [func (s *CatService) ReportMiscategorization(ctx context.Context, req *pb.GetCategoryRequest) (*pb.Category, error)](<#func-catservice-reportmiscategorization>)
  - [func (s *CatService) UpdateCategory(ctx context.Context, req *pb.UpdateCategoryRequest) (*pb.Category, error)](<#func-catservice-updatecategory>)


## func [NewCatSevice](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L22>)

```go
func NewCatSevice(categoriesRepository repository.CategoriesRepository) pb.CatServiceServer
```

NewCatService creates a new CatService instance\.

## type [CatService](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L17-L19>)

CatService provides categoriesRepository for categorization service\.

```go
type CatService struct {
    // contains filtered or unexported fields
}
```

### func \(\*CatService\) [AddUrl](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L136>)

```go
func (s *CatService) AddUrl(ctx context.Context, req *pb.AddUrlRequest) (*pb.Category, error)
```

AddUrl performs add the url\.

### func \(\*CatService\) [AddUrls](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L95>)

```go
func (s *CatService) AddUrls(req *pb.AddUrlsRequest, stream pb.CatService_AddUrlsServer) error
```

AddUrls performs add the urls\.

### func \(\*CatService\) [DeleteUrl](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L196>)

```go
func (s *CatService) DeleteUrl(ctx context.Context, req *pb.DeleteUrlRequest) (*pb.DeleteUrlResponse, error)
```

DeleteUrl performs delete the url\.

### func \(\*CatService\) [DeleteUrls](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L167>)

```go
func (s *CatService) DeleteUrls(req *pb.DeleteUrlsRequest, stream pb.CatService_DeleteUrlsServer) error
```

DeleteUrls performs delete the urls\.

### func \(\*CatService\) [GetCategory](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L27>)

```go
func (s *CatService) GetCategory(ctx context.Context, req *pb.GetCategoryRequest) (*pb.Category, error)
```

GetCategory performs return the category by url\.

### func \(\*CatService\) [ListUrls](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L214>)

```go
func (s *CatService) ListUrls(req *pb.ListUrlsRequest, stream pb.CatService_ListUrlsServer) error
```

ListUrls performs list the urls based on categories and count\.

### func \(\*CatService\) [ReportMiscategorization](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L67>)

```go
func (s *CatService) ReportMiscategorization(ctx context.Context, req *pb.GetCategoryRequest) (*pb.Category, error)
```

ReportMiscategorization reports miscategorization\.

### func \(\*CatService\) [UpdateCategory](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L42>)

```go
func (s *CatService) UpdateCategory(ctx context.Context, req *pb.UpdateCategoryRequest) (*pb.Category, error)
```

UpdateCategory performs update the category\.

# validators

```go
import "CWS/categorization/validators"
```

## Index

- [Variables](<#variables>)
- [func ValidateCategories(categories []string) error](<#func-validatecategories>)
- [func ValidateCount(count string) (int, error)](<#func-validatecount>)
- [func ValidateId(id string) error](<#func-validateid>)
- [func ValidateUrl(reqUrL string) error](<#func-validateurl>)
- [func ValidateUrls(urls []string) error](<#func-validateurls>)


## Variables

Contains error codes for categorization service\.

```go
var (
    ErrInvalidUrlId    = errors.New("invalid urlId")
    ErrInvalidUrl      = errors.New("invalid url")
    ErrEmptyUrls       = errors.New("urls can't be empty")
    ErrUrlAlreadyExist = errors.New("url already exist")
    ErrEmptyCategory   = errors.New("category can't be empty")
    ErrInvalidCount    = errors.New("invalid count")
)
```

## func [ValidateCategories](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/validators/validators.go#L39>)

```go
func ValidateCategories(categories []string) error
```

ValidateCategories validates the category count\.

## func [ValidateCount](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/validators/validators.go#L47>)

```go
func ValidateCount(count string) (int, error)
```

ValidateUrls validates if it's a integer count\.

## func [ValidateId](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/validators/validators.go#L56>)

```go
func ValidateId(id string) error
```

ValidateId validates if it's a valid url id\.

## func [ValidateUrl](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/validators/validators.go#L22>)

```go
func ValidateUrl(reqUrL string) error
```

ValidateUrls validates if it's a real url\.

## func [ValidateUrls](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/validators/validators.go#L31>)

```go
func ValidateUrls(urls []string) error
```

ValidateUrls validates the url count\.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
