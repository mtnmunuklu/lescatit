<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# categorization

```go
import "Lescatit/categorization"
```

## Index



# models

```go
import "Lescatit/categorization/models"
```

## Index

- [type Category](<#type-category>)
  - [func (c *Category) FromProtoBuffer(category *pb.Category)](<#func-category-fromprotobuffer>)
  - [func (c *Category) ToProtoBuffer() *pb.Category](<#func-category-toprotobuffer>)


## type [Category](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/models/categories.go#L11-L19>)

Category provides the category instance for categorization job\.

```go
type Category struct {
    Id       bson.ObjectId `bson:"_id"`
    Url      string        `bson:"url"`
    Category string        `bson:"category"`
    Created  time.Time     `bson:"created"`
    Updated  time.Time     `bson:"updated"`
    Revision string        `bson:"revision"`
    Data     string        `bson:"data"`
}
```

### func \(\*Category\) [FromProtoBuffer](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/models/categories.go#L35>)

```go
func (c *Category) FromProtoBuffer(category *pb.Category)
```

FromProtoBuffer gets category from protocol buffer and converts to the category structure\.

### func \(\*Category\) [ToProtoBuffer](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/models/categories.go#L22>)

```go
func (c *Category) ToProtoBuffer() *pb.Category
```

ToProtoBuffer converts the category structure into a protocol buffer category structure\.

# repository

```go
import "Lescatit/categorization/repository"
```

## Index

- [Constants](<#constants>)
- [type CRepository](<#type-crepository>)
  - [func (r *CRepository) Delete(id string) error](<#func-crepository-delete>)
  - [func (r *CRepository) DeleteAll() error](<#func-crepository-deleteall>)
  - [func (r *CRepository) GetAllURLsByCategory(category string, count int) (url []*models.Category, err error)](<#func-crepository-getallurlsbycategory>)
  - [func (r *CRepository) GetById(id string) (url *models.Category, err error)](<#func-crepository-getbyid>)
  - [func (r *CRepository) GetCategoryByURL(url string) (category *models.Category, err error)](<#func-crepository-getcategorybyurl>)
  - [func (r *CRepository) Save(url *models.Category) error](<#func-crepository-save>)
  - [func (r *CRepository) Update(category *models.Category) error](<#func-crepository-update>)
- [type CategoriesRepository](<#type-categoriesrepository>)
  - [func NewCategoriesRepository(conn db.Connection) CategoriesRepository](<#func-newcategoriesrepository>)


## Constants

```go
const CategoriesCollection = "categories"
```

## type [CRepository](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L24-L26>)

CRepository provides a mongo collection for database job\.

```go
type CRepository struct {
    // contains filtered or unexported fields
}
```

### func \(\*CRepository\) [Delete](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L62>)

```go
func (r *CRepository) Delete(id string) error
```

Delete deletes the url based on id\.

### func \(\*CRepository\) [DeleteAll](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L67>)

```go
func (r *CRepository) DeleteAll() error
```

DeleteAll drops categories collection\.

### func \(\*CRepository\) [GetAllURLsByCategory](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L51>)

```go
func (r *CRepository) GetAllURLsByCategory(category string, count int) (url []*models.Category, err error)
```

GetAllURLsByCategory returns all urls based on category\.

### func \(\*CRepository\) [GetById](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L39>)

```go
func (r *CRepository) GetById(id string) (url *models.Category, err error)
```

GetById returns the url based on id\.

### func \(\*CRepository\) [GetCategoryByURL](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L45>)

```go
func (r *CRepository) GetCategoryByURL(url string) (category *models.Category, err error)
```

GetCategoryByURL returns the category based on url\.

### func \(\*CRepository\) [Save](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L34>)

```go
func (r *CRepository) Save(url *models.Category) error
```

Save adds url to database\.

### func \(\*CRepository\) [Update](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L57>)

```go
func (r *CRepository) Update(category *models.Category) error
```

Update updates the category\.

## type [CategoriesRepository](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L14-L21>)

CategoriesRepository is the interface of the categorization backend\.

```go
type CategoriesRepository interface {
    Save(url *models.Category) error
    GetById(id string) (url *models.Category, err error)
    GetCategoryByURL(url string) (category *models.Category, err error)
    GetAllURLsByCategory(category string, count int) (url []*models.Category, err error)
    Update(category *models.Category) error
    Delete(id string) error
}
```

### func [NewCategoriesRepository](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/repository/categories.go#L29>)

```go
func NewCategoriesRepository(conn db.Connection) CategoriesRepository
```

NewCategoriesRepository creates a new CategoriesRepository instance\.

# service

```go
import "Lescatit/categorization/service"
```

## Index

- [func NewCatSevice(categoriesRepository repository.CategoriesRepository) pb.CatServiceServer](<#func-newcatsevice>)
- [type CatService](<#type-catservice>)
  - [func (s *CatService) AddURL(ctx context.Context, req *pb.AddURLRequest) (*pb.Category, error)](<#func-catservice-addurl>)
  - [func (s *CatService) DeleteURL(ctx context.Context, req *pb.DeleteURLRequest) (*pb.DeleteURLResponse, error)](<#func-catservice-deleteurl>)
  - [func (s *CatService) DeleteURLs(req *pb.DeleteURLsRequest, stream pb.CatService_DeleteURLsServer) error](<#func-catservice-deleteurls>)
  - [func (s *CatService) GetCategory(ctx context.Context, req *pb.GetCategoryRequest) (*pb.Category, error)](<#func-catservice-getcategory>)
  - [func (s *CatService) ListURLs(req *pb.ListURLsRequest, stream pb.CatService_ListURLsServer) error](<#func-catservice-listurls>)
  - [func (s *CatService) ReportMiscategorization(ctx context.Context, req *pb.ReportMiscategorizationRequest) (*pb.Category, error)](<#func-catservice-reportmiscategorization>)
  - [func (s *CatService) UpdateCategory(ctx context.Context, req *pb.UpdateCategoryRequest) (*pb.Category, error)](<#func-catservice-updatecategory>)


## func [NewCatSevice](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L22>)

```go
func NewCatSevice(categoriesRepository repository.CategoriesRepository) pb.CatServiceServer
```

NewCatService creates a new CatService instance\.

## type [CatService](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L17-L19>)

CatService provides categoriesRepository for categorization service\.

```go
type CatService struct {
    // contains filtered or unexported fields
}
```

### func \(\*CatService\) [AddURL](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L76>)

```go
func (s *CatService) AddURL(ctx context.Context, req *pb.AddURLRequest) (*pb.Category, error)
```

AddURL performs add the url\.

### func \(\*CatService\) [DeleteURL](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L119>)

```go
func (s *CatService) DeleteURL(ctx context.Context, req *pb.DeleteURLRequest) (*pb.DeleteURLResponse, error)
```

DeleteURL performs delete the url\.

### func \(\*CatService\) [DeleteURLs](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L165>)

```go
func (s *CatService) DeleteURLs(req *pb.DeleteURLsRequest, stream pb.CatService_DeleteURLsServer) error
```

DeleteURLs performs delete the urls\.

### func \(\*CatService\) [GetCategory](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L27>)

```go
func (s *CatService) GetCategory(ctx context.Context, req *pb.GetCategoryRequest) (*pb.Category, error)
```

GetCategory performs return the category by url\.

### func \(\*CatService\) [ListURLs](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L190>)

```go
func (s *CatService) ListURLs(req *pb.ListURLsRequest, stream pb.CatService_ListURLsServer) error
```

ListURLs performs list the urls based on categories and count\.

### func \(\*CatService\) [ReportMiscategorization](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L137>)

```go
func (s *CatService) ReportMiscategorization(ctx context.Context, req *pb.ReportMiscategorizationRequest) (*pb.Category, error)
```

ReportMiscategorization reports miscategorization\.

### func \(\*CatService\) [UpdateCategory](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/service/service.go#L42>)

```go
func (s *CatService) UpdateCategory(ctx context.Context, req *pb.UpdateCategoryRequest) (*pb.Category, error)
```

UpdateCategory performs update the category\.

# util

```go
import "Lescatit/categorization/util"
```

## Index

- [Variables](<#variables>)
- [func ValidateCategories(categories []string) error](<#func-validatecategories>)
- [func ValidateCount(count string) (int, error)](<#func-validatecount>)
- [func ValidateId(id string) error](<#func-validateid>)
- [func ValidateURL(reqURL string) error](<#func-validateurl>)
- [func ValidateURLs(urls []string) error](<#func-validateurls>)


## Variables

Contains error codes for categorization service\.

```go
var (
    ErrInvalidURLId  = errors.New("invalid url id")
    ErrInvalidURL    = errors.New("invalid url")
    ErrEmptyURLs     = errors.New("urls can't be empty")
    ErrEmptyCategory = errors.New("category can't be empty")
    ErrInvalidCount  = errors.New("invalid count")
)
```

## func [ValidateCategories](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/util/util.go#L38>)

```go
func ValidateCategories(categories []string) error
```

ValidateCategories validates the category count\.

## func [ValidateCount](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/util/util.go#L46>)

```go
func ValidateCount(count string) (int, error)
```

ValidateCount validates if it's a integer count\.

## func [ValidateId](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/util/util.go#L55>)

```go
func ValidateId(id string) error
```

ValidateId validates if it's a valid url id\.

## func [ValidateURL](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/util/util.go#L21>)

```go
func ValidateURL(reqURL string) error
```

ValidateURLs validates if it's a real url\.

## func [ValidateURLs](<https://github.com/mtnmunuklu/Lescatit/blob/main/categorization/util/util.go#L30>)

```go
func ValidateURLs(urls []string) error
```

ValidateURLs validates the url count\.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
